getgenv().DiscordInvite = "https://discord.gg/3f6fxnpp2G"

local coregui = game:GetService("CoreGui")
local light = game:GetService("Lighting")
local tween = game:GetService("TweenService")
local uis = game:GetService("UserInputService")

-- BLUR EFFECT
local blur = Instance.new("BlurEffect")
blur.Size = 0
blur.Parent = light

-- OPAQUE GREEN SCREEN IN COREGUI
local screen = Instance.new("ScreenGui")
screen.IgnoreGuiInset = true
screen.Parent = coregui

local bg = Instance.new("Frame")
bg.Size = UDim2.new(1,0,1,0)
bg.BackgroundColor3 = Color3.fromRGB(0,0,0)
bg.BackgroundTransparency = 1
bg.Parent = screen

-- TITLE
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0.15,0)
title.Position = UDim2.new(0,0,0.3,0)
title.BackgroundTransparency = 1
title.Text = "PLANTS VS BRAINROT"
title.TextColor3 = Color3.fromRGB(0,255,0)
title.TextScaled = true
title.Font = Enum.Font.GothamBlack
title.TextTransparency = 1
title.Parent = bg

-- SUBTITLE: "Loading Script..." WITH DOT ANIMATION
local subtitle = Instance.new("TextLabel")
subtitle.Size = UDim2.new(1,0,0.1,0)
subtitle.Position = UDim2.new(0,0,0.45,0)
subtitle.BackgroundTransparency = 1
subtitle.Text = "Loading Script"
subtitle.TextColor3 = Color3.fromRGB(255,255,255)
subtitle.TextScaled = true
subtitle.Font = Enum.Font.Gotham
subtitle.Parent = bg

task.spawn(function()
    while true do
        subtitle.Text = "Loading Script."
        task.wait(0.5)
        subtitle.Text = "Loading Script.."
        task.wait(0.5)
        subtitle.Text = "Loading Script..."
        task.wait(0.5)
    end
end)

-- LOADING BAR (ROUNDED)
local barBG = Instance.new("Frame")
barBG.Size = UDim2.new(0.7,0,0.04,0)
barBG.Position = UDim2.new(0.15,0,0.58,0)
barBG.BackgroundColor3 = Color3.fromRGB(20,20,30)
barBG.Parent = bg
local barBGC = Instance.new("UICorner")
barBGC.CornerRadius = UDim.new(0,10)
barBGC.Parent = barBG

local bar = Instance.new("Frame")
bar.Size = UDim2.new(0,0,1,0)
bar.BackgroundColor3 = Color3.fromRGB(0,255,0)
bar.Parent = barBG
local barC = Instance.new("UICorner")
barC.CornerRadius = UDim.new(0,10)
barC.Parent = bar

-- COPY BUTTON (ROUNDED)
local button = Instance.new("TextButton")
button.Size = UDim2.new(0.3,0,0.1,0)
button.Position = UDim2.new(0.35,0,0.7,0)
button.BackgroundColor3 = Color3.fromRGB(0,150,0)
button.Text = "Copy Discord Invite"
button.TextColor3 = Color3.fromRGB(255,255,255)
button.TextScaled = true
button.Font = Enum.Font.Gotham
button.Parent = bg
local buttonC = Instance.new("UICorner")
buttonC.CornerRadius = UDim.new(0,20)
buttonC.Parent = button

-- NOTIFICATION (ROUNDED)
local noti = Instance.new("TextLabel")
noti.Size = UDim2.new(0.4,0,0.1,0)
noti.Position = UDim2.new(0.3,0,0.85,0)
noti.BackgroundColor3 = Color3.fromRGB(0,200,0)
noti.Text = "Copied Discord Invite!"
noti.TextColor3 = Color3.fromRGB(255,255,255)
noti.TextScaled = true
noti.Font = Enum.Font.Gotham
noti.Visible = false
noti.Parent = bg
local notiC = Instance.new("UICorner")
notiC.CornerRadius = UDim.new(0,15)
notiC.Parent = noti

button.MouseButton1Click:Connect(function()
    if setclipboard then
        setclipboard(getgenv().DiscordInvite)
        noti.Visible = true
        task.wait(2)
        noti.Visible = false
    end
end)

-- FALLING INTERACTIVE EMOJIS
local emojis = {"Running", "Plant", "Brain", "Book"}
task.spawn(function()
    while screen.Parent do
        local emoji = Instance.new("TextLabel")
        emoji.Size = UDim2.new(0.05,0,0.05,0)
        emoji.Position = UDim2.new(math.random(),0,-0.1,0)
        emoji.BackgroundTransparency = 1
        emoji.Text = emojis[math.random(1,#emojis)]
        emoji.TextColor3 = Color3.fromRGB(255,math.random(150,255),255)
        emoji.TextScaled = true
        emoji.Font = Enum.Font.Emoji
        emoji.Parent = bg

        tween:Create(emoji, TweenInfo.new(math.random(5,10), Enum.EasingStyle.Linear), {Position = UDim2.new(emoji.Position.X.Scale,0,1.1,0)}):Play()

        local dragging, dragStart, startPos
        emoji.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStart = input.Position
                startPos = emoji.Position
            end
        end)
        emoji.InputChanged:Connect(function(input)
            if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                local delta = input.Position - dragStart
                emoji.Position = UDim2.new(startPos.X.Scale + delta.X / bg.AbsoluteSize.X, 0, startPos.Y.Scale + delta.Y / bg.AbsoluteSize.Y, 0)
            end
        end)
        emoji.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = false
                local velocity = (input.Position - dragStart) / 10
                tween:Create(emoji, TweenInfo.new(2, Enum.EasingStyle.Linear), {Position = emoji.Position + UDim2.new(velocity.X / bg.AbsoluteSize.X, 0, velocity.Y / bg.AbsoluteSize.Y, 0)}):Play()
            end
        end)

        task.wait(math.random(1,3)/10)
    end
end)

-- ANIMATION SEQUENCE
tween:Create(blur, TweenInfo.new(1), {Size = 30}):Play()
tween:Create(bg, TweenInfo.new(2), {BackgroundTransparency = 0, BackgroundColor3 = Color3.fromRGB(0,100,0)}):Play()
task.wait(1)
tween:Create(title, TweenInfo.new(1, Enum.EasingStyle.Bounce), {TextTransparency = 0}):Play()
task.wait(1)

-- LOADING BAR: 6-7 MINUTES
task.spawn(function()
    local duration = math.random(360,420)
    local start = os.clock()
    while true do
        local elapsed = os.clock() - start
        local progress = math.min(elapsed / duration, 1)
        tween:Create(bar, TweenInfo.new(0.1), {Size = UDim2.new(progress,0,1,0)}):Play()
        if progress >= 1 then break end
        task.wait(0.1)
    end
    task.wait(1)
    screen:Destroy()
    blur:Destroy()
end)
